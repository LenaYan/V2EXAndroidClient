// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {
    repositories {
        jcenter()
        mavenCentral()
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:2.1.0-alpha4'
        classpath 'com.neenbedankt.gradle.plugins:android-apt:1.8'
        classpath 'com.frogermcs.androiddevmetrics:androiddevmetrics-plugin:0.3.1'
        classpath 'me.tatarka:gradle-retrolambda:3.3.0-beta4'
        classpath 'me.tatarka.retrolambda.projectlombok:lombok.ast:0.2.3.a2'
        classpath 'io.realm:realm-gradle-plugin:0.88.2'
    }
    configurations.classpath.exclude group: 'com.android.tools.external.lombok'
}

allprojects {
    repositories {
        jcenter()
        mavenCentral()
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}

ext {
    versionName = '1.0.0'
    versionCode = 1
    applicationId = 'com.rayman.v2ex'
    minSdkVersion = 21
    compileSdkVersion = 23
    targetSdkVersion = 23
    buildToolsVersion = '23.0.2'
    gradleBuildToolsVersion = '2.1.0-alpha1'
    junitVersion = '4.12'
    sourceCompatibilityVersion = JavaVersion.VERSION_1_8
    targetCompatibilityVersion = JavaVersion.VERSION_1_8
    retrolambdaJavaVersion = JavaVersion.VERSION_1_7

    androidSupportPkg = 'com.android.support'
    androidSupportVersion = '23.2.1'
    squareUpPkg = 'com.squareup'
    okHttpPkg = 'com.squareup.okhttp3'
    okHttpVersion = '3.2.0'
    retrofitPkg = 'com.squareup.retrofit2'
    retrofitVersion = '2.0.0'
    testSupportPkg = "com.android.support.test"
    testSupportVersion = '0.4.1'
    dexMakerPkg = 'com.google.dexmaker'
    dexMakerVersion = '1.2'
    testEspressoPkg = 'com.android.support.test.espresso'
    testEspressoVersion = '2.2.1'
    lintPkg = 'com.android.tools.lint'
    lintVersion = '24.3.1'
    rxBindingPkg = 'com.jakewharton.rxbinding'
    rxBindingVersion = '0.4.0'
    mockitoPkg = 'org.mockito'
    mockitoVersion = '1.10.19'
    daggerPkg = 'com.google.dagger'
    daggerVersion = '2.0.2'
}

ext.depMap = [
        RecyclerView         : "${androidSupportPkg}:recyclerview-v7:${androidSupportVersion}",
        CardView             : "${androidSupportPkg}:cardview-v7:${androidSupportVersion}",
        Design               : "${androidSupportPkg}:design:${androidSupportVersion}",
        AppCompat            : "${androidSupportPkg}:appcompat-v7:${androidSupportVersion}",
        Multidex             : "${androidSupportPkg}:multidex:1.0.0",
        Annotations          : "${androidSupportPkg}:support-annotations:${androidSupportVersion}",
        SupportV4            : "${androidSupportPkg}:support-v4:${androidSupportVersion}",

        Guava                : 'com.google.guava:guava:19.0',

        AutoValue            : 'com.google.auto.value:auto-value:1.1',
        AutoParcel           : 'com.github.frankiesardo:auto-parcel:0.3.1',
        AutoParcelProcessor  : 'com.github.frankiesardo:auto-parcel-processor:0.3.1',

        FastJson             : 'com.alibaba:fastjson:1.1.45.android',
        DSLJson              : 'com.dslplatform:dsl-json:0.9.5',
        DSLJsonProcessor     : 'com.dslplatform:dsl-json-processor:0.4',

        OkHttp               : "${okHttpPkg}:okhttp:${okHttpVersion}",
        LoggingInterceptor   : "${okHttpPkg}:logging-interceptor:${okHttpVersion}",
        OkHttpWS             : "${okHttpPkg}:okhttp-ws:${okHttpVersion}",

        Retrofit             : "${retrofitPkg}:retrofit:${retrofitVersion}",
        RxJavaAdapter        : "${retrofitPkg}:adapter-rxjava:${retrofitVersion}",
        Java8Adapter         : "${retrofitPkg}:adapter-java8:${retrofitVersion}",
        GuavaAdapter         : "${retrofitPkg}:adapter-guava:${retrofitVersion}",
        GsonConverter        : "${retrofitPkg}:converter-gson:${retrofitVersion}",
        JacksonConverter     : "${retrofitPkg}:converter-jackson:${retrofitVersion}",
        MoshiConverter       : "${retrofitPkg}:converter-moshi:${retrofitVersion}",
        ProtobufConverter    : "${retrofitPkg}:converter-protobuf:${retrofitVersion}",
        WireConverter        : "${retrofitPkg}:converter-wire:${retrofitVersion}",
        SimpleXMLConverter   : "${retrofitPkg}:converter-simplexml:${retrofitVersion}",
        ScalarsConverter     : "${retrofitPkg}:converter-scalars:${retrofitVersion}",

        RxAndroid            : 'io.reactivex:rxandroid:1.0.1',
        RxBinding            : "${rxBindingPkg}:rxbinding:${rxBindingVersion}",
        RxBindingSupportV4   : "${rxBindingPkg}:rxbinding-support-v4:${rxBindingVersion}",
        RxBindingAppcompat   : "${rxBindingPkg}:rxbinding-appcompat-v7:${rxBindingVersion}",
        RxBindingDesign      : "${rxBindingPkg}:rxbinding-design:${rxBindingVersion}",
        RxBindingRecyclerView: "${rxBindingPkg}:rxbinding-recyclerview-v7:${rxBindingVersion}",
        RxLeanBack           : "${rxBindingPkg}:rxbinding-leanback-v17:${rxBindingVersion}",

        Dagger               : "${daggerPkg}:dagger:${daggerVersion}",
        DaggerCompile        : "${daggerPkg}:dagger-compiler:${daggerVersion}",

        RetroLambdaConfig    : 'net.orfjackal.retrolambda:retrolambda:2.1.0',
        Timber               : 'com.jakewharton.timber:timber:4.1.1',
        AnnotationJsr250     : 'javax.annotation:jsr250-api:1.0',
        MaterialMenuToolbar  : 'com.balysv.materialmenu:material-menu-toolbar:1.5.0',
        RoundedImageview     : 'com.makeramen:roundedimageview:2.2.1',
        FlowLayout           : 'com.wefika:flowlayout:0.4.1',

        Otto                 : "${squareUpPkg}:otto:1.3.8",
        LeakCanary           : "${squareUpPkg}.leakcanary:leakcanary-android:1.3.1",
        LeakCanaryAndroidNoOp: "${squareUpPkg}.leakcanary:leakcanary-android-no-op:1.3.1",
        FestAndroid          : "${squareUpPkg}:fest-android:1.0.7",
        Picasso              : "${squareUpPkg}.picasso:picasso:2.5.2",

        Hamcrest             : 'org.hamcrest:hamcrest-all:1.3',
        JUnit                : "junit:junit:${junitVersion}",

        MockitoAll           : "${mockitoPkg}:mockito-all:${mockitoVersion}",
        MockitoCore          : "${mockitoPkg}:mockito-core:${mockitoVersion}",
        FestAssert           : 'org.easytesting:fest-assert-core:2.0M10',
        Robolectric          : 'org.robolectric:robolectric:3.0',

        //Espresso
        EspressoCore         : "${testEspressoPkg}:espresso-core:${testEspressoVersion}",
        EspressoContrib      : "${testEspressoPkg}:espresso-contrib:${testEspressoVersion}",
        EspressoIntents      : "${testEspressoPkg}:espresso-intents:${testEspressoVersion}",
        EspressoIDLing       : "${testEspressoPkg}:espresso-idling-resource:${testEspressoVersion}",

        //Test support
        RunnerSupport        : "${testSupportPkg}:runner:${testSupportVersion}",
        RulesSupport         : "${testSupportPkg}:rules:${testSupportVersion}",

        //Dex maker
        DexMaker             : "${dexMakerPkg}:dexmaker:${dexMakerVersion}",
        DexMakerMockito      : "${dexMakerPkg}:dexmaker-mockito:${dexMakerVersion}",

        //Lint dependencies
        Lintapi              : "${lintPkg}:lint-api:${lintVersion}",
        Lintchecks           : "${lintPkg}:lint-checks:${lintVersion}"
]